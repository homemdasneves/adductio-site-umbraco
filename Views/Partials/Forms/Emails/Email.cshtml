@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Forms.Core.Models.FormsHtmlModel>

@{
    //This is an example email template where you can use Razor Views to send HTML emails

    //You can use Umbraco.TypedContent & Umbraco.TypedMedia etc to use Images & content from your site
    //directly in your email templates too

    //Strongly Typed
    //@Model.GetValue("aliasFormField")
    //@foreach (var color in Model.GetValues("checkboxField")){}

    //Dynamics
    //@Model.DynamicFields.aliasFormField
    //@foreach(var color in Model.DynamicFields.checkboxField

    //Images need to be absolute - so fetching domain to prefix with images
    var siteDomain = Context.Request.Scheme + "://" + Context.Request.Host;
    var assetsUrl = siteDomain + "/assets";

}

<!DOCTYPE html>
<html>
<head>
    <meta content="width=device-width" name="viewport">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title></title>
    <style>
        @@font-face {
            font-family: 'SF Pro Text';
            src: url('@assetsUrl/fonts/SFProText-Medium.woff2') format('woff2'), url('@assetsUrl/fonts/SFProText-Medium.woff') format('woff');
            font-weight: 500;
            font-style: normal;
            font-display: swap;
        }

        @@font-face {
            font-family: 'SF Pro Text';
            src: url('@assetsUrl/fonts/SFProText-Regular.woff2') format('woff2'), url('@assetsUrl/fonts/SFProText-Regular.woff') format('woff');
            font-weight: normal;
            font-style: normal;
            font-display: swap;
        }

        @@media only screen and (max-width: 620px) {
            table[class='body'] h1 {
                font-size: 28px !important;
                margin-bottom: 10px !important;
            }

            table[class='body'] p,
            table[class='body'] ul,
            table[class='body'] ol,
            table[class='body'] td,
            table[class='body'] span,
            table[class='body'] a {
                font-size: 16px !important;
            }

            table[class='body'] .wrapper,
            table[class='body'] .article {
                padding: 10px !important;
            }

            table[class='body'] .content {
                padding: 0 !important;
            }

            table[class='body'] .container {
                padding: 0 !important;
                width: 100% !important;
            }

            table[class='body'] .main {
                border-left-width: 0 !important;
                border-radius: 0 !important;
                border-right-width: 0 !important;
            }

            table[class='body'] .btn table {
                width: 100% !important;
            }

            table[class='body'] .btn a {
                width: 100% !important;
            }

            table[class='body'] .img-responsive {
                height: auto !important;
                max-width: 100% !important;
                width: auto !important;
            }
        }
        /* -------------------------------------
            PRESERVE THESE STYLES IN THE HEAD
            ------------------------------------- */
        @@media all {
            .ExternalClass {
                width: 100%;
            }

                .ExternalClass,
                .ExternalClass p,
                .ExternalClass span,
                .ExternalClass font,
                .ExternalClass td,
                .ExternalClass div {
                    line-height: 100%;
                }

            .apple-link a {
                color: inherit !important;
                font-family: inherit !important;
                font-size: inherit !important;
                font-weight: inherit !important;
                line-height: inherit !important;
                text-decoration: none !important;
            }

            #MessageViewBody a {
                color: inherit;
                text-decoration: none;
                font-size: inherit;
                font-family: inherit;
                font-weight: inherit;
                line-height: inherit;
            }
        }
    </style>
</head>
<body class="" style=" background-color: #ffffff; font-family: 'SF Pro Text', 'Helvetica', Arial, sans-serif; font-weight: normal; font-style: normal; -webkit-font-smoothing: antialiased; font-size: 14px; line-height: 1.4; margin: 0; padding: 0; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%;">
    <span class="preheader" style=" color: transparent; display: none; height: 0; max-height: 0; max-width: 0; opacity: 0; overflow: hidden; mso-hide: all; visibility: hidden; width: 0;">
        
    </span>
    <table border="0" cellpadding="0" cellspacing="0" class="body" style=" border-collapse: separate; mso-table-lspace: 0pt; mso-table-rspace: 0pt; width: 100%; background-color: #ffffff;">
        <tr>
            <td style="font-family: 'SF Pro Text', 'Helvetica', Arial, sans-serif; font-weight: normal; font-style: normal; font-size: 14px; vertical-align: top;">&nbsp;</td>
            <td class="container" style="font-family: 'SF Pro Text', 'Helvetica', Arial, sans-serif; font-weight: normal; font-style: normal; font-size: 14px; vertical-align: top; display: block; margin: 0 auto; max-width: 600px; width: 600px;">
                <div class="content" style=" box-sizing: border-box; display: block; margin: 0 auto; max-width: 600px;">
                    <!-- START CENTERED WHITE CONTAINER -->
                    <table class="main" style=" border-collapse: separate; mso-table-lspace: 0pt; mso-table-rspace: 0pt; width: 100%; background: #ffffff;">
                        <!-- START MAIN CONTENT AREA -->
                        <tr>
                            <td class="wrapper" style="font-family: 'SF Pro Text', 'Helvetica', Arial, sans-serif; font-weight: normal; font-style: normal; font-size: 14px; vertical-align: top; box-sizing: border-box;">
                                <table border="0" cellpadding="0" cellspacing="0" style=" border-collapse: separate; mso-table-lspace: 0pt; mso-table-rspace: 0pt; width: 100%;">
                                    <tr>
                                        <td align="center" style=" text-align: center; padding: 40px 20px; border-bottom: 2px solid #e9ebf0;"><img alt="logo" src="@($"{assetsUrl}/logo.png")"></td>
                                    </tr>
                                    <tr>
                                        <td align="center" style="font-family: 'SF Pro Text', 'Helvetica', Arial, sans-serif; font-weight: normal; font-style: normal; font-size: 14px; vertical-align: top; padding: 0 40px 0 40px; line-height: 1.2; padding-top: 56px; /* padding-bottom: 40px; */">
                                            <p style="font-family: 'SF Pro Text', 'Helvetica', Arial, sans-serif; font-weight: 500; font-style: normal; color: #294268; font-size: 21px; margin: 0; text-align: center; padding-bottom: 16px;">
                                                <!-- GREETING -->
                                            </p>
                                            <p style="font-family: 'SF Pro Text', 'Helvetica', Arial, sans-serif; font-weight: normal; font-style: normal; color: #1b2737; font-size: 16px; margin: 0; text-align: center;">
                                                <!-- TOPTEXT -->
                                                @if (Model.HeaderHtml is not null)
                                                {
                                                    <div>@Model.HeaderHtml</div>
                                                }
                                            </p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td align="center" style=" text-align: center; padding: 20px 20px;"></td>
                                    </tr>

                                    <tr>
                                        <td align="center" style="font-family: 'SF Pro Text', 'Helvetica', Arial, sans-serif; font-weight: normal; font-style: normal; font-size: 14px; vertical-align: top;  padding-bottom: 56px; line-height: 1.2;">
                                            <p style="font-family: 'SF Pro Text', 'Helvetica', Arial, sans-serif; font-weight: normal; font-style: normal; color: #9dadc2; font-size: 14px; margin: 0; margin-bottom: 0; text-align: center;">
                                                
                                                @foreach (var field in Model.Fields)
                                                {
                                                    <h4 style="font-weight: 700; margin: 0; color: #000000;">@field.Name</h4>

                                                    switch (field.FieldType)
                                                    {
                                                        case "FieldType.FileUpload.cshtml":
                                                        <p style="margin-top: 0;"><a href="@siteDomain/@field.GetValue()" target="_blank" style="color: #00AEA2;">@field.GetValue()</a></p>
                                                            break;

                                                        case "FieldType.DatePicker.cshtml":
                                                            DateTime dt;
                                                            var fieldValue = field.GetValue();
                                                            var dateValid = DateTime.TryParse(fieldValue != null ? fieldValue.ToString() : string.Empty, out dt);
                                                            var dateStr = dateValid ? dt.ToString("f") : "";
                                                        <p style="margin-top: 0;">@dateStr</p>
                                                            break;

                                                        case "FieldType.CheckBoxList.cshtml":
                                                        <p style="margin-top: 0;">
                                                                @foreach (var color in field.GetValues())
                                                                {
                                                                    @color

                                                                <br />
                                                                }
                                                        </p>
                                                            break;
                                                        default:
                                                        <p style="margin-top: 0;">@field.GetValue()</p>
                                                            break;
                                                    }
                                                }

                                                @if (Model.FooterHtml is not null)
                                                {
                                                    <div>@Model.FooterHtml</div>
                                                }

                                            </p>
                                        </td>
                                    </tr>

                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td align="center" style="text-align: center; padding-top: 32px">
                                <p style="font-family: 'SF Pro Text', 'Helvetica', Arial, sans-serif; font-weight: normal; font-style: normal; font-size: 12px; color: #9dadc2; vertical-align: top; margin: 0 0 16px 0;padding-bottom: 40px;">@@ @DateTime.Now.Year Adductio</p>
                            </td>
                        </tr><!-- END MAIN CONTENT AREA -->
                    </table><!-- END CENTERED WHITE CONTAINER -->
                </div>
            </td>
        </tr>
    </table>
</body>
</html>

